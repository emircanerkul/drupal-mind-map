* A user's subscription can have one of two statuses: "active" or "canceled".  
   * When a user's subscription is set to canceled, the Drupal Roles configured on the subscription are revoked from the user.  
   * When a user cancels their subscription, the boolean "Cancel at period end" is checked. Their subscription status is not immediately changed to "canceled", since the user should be entitled to their premium Drupal Role until the end of the current billing period. Since the Braintree payment gateway doesn't natively support the concept of "Cancel at period end", Braintree Cashier edits the subscription on Braintree via the Braintree API to change the number of billing periods to equal the current billing period, such that it will expire at the end of the current billing period. This is the workaround used by Laravel's Cashier Braintree project.
* Free Trials:  
   * When a user cancels a free trial, the corresponding subscription at Braintree is canceled in order to avoid billing at the end of the free trial.  
   * The user's local subscription entity is still active so that the user still has premium roles until the end of the original free trial period. The subscription entity is set to cancel at period end, and the period end date is recorded from the nextBillingDate property of the Braintree subscription. The local subscription entity is canceled by cron after the period end date.  
   * If a user with a currently active free trial subscription that is set to cancel at period end signs up for a new subscription that also has a free trial, the free trial period of the new subscription is reduced by the number of days elapsed on their first free trial. This proration of the new free trial period is intended to avoid what would otherwise be never ending free trials for users that cancel and then sign up again.