Sometimes, developers will want to have database writes that are dependent upon the results of other database writes. A Drupal example would be programmatically creating a Node with an entity reference to a Media item. The developer will create the Media entity, then create the Node entity and set the Media entity as a reference on the Node entity. However, if creation of the Node entity fails, the database should be rolled back to before the Media item was created, so that it is not orphaned in the database without being linked to the Node it was supposed to be linked to.

This is done in Drupal using database transactions. A transaction is started, database writes are made, and if any errors should arise, the database is rolled back to the state when the transaction was opened.